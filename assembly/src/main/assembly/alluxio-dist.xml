<assembly>
  <id>alluxio-dist</id>
  <formats>
    <format>tar.gz</format>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>true</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>${basedir}/../bin</directory>
      <outputDirectory>/bin</outputDirectory>
      <fileMode>0755</fileMode>
      <directoryMode>0755</directoryMode>
    </fileSet>
    <fileSet>
      <directory>${basedir}/../integration/bin</directory>
      <outputDirectory>/integration/bin</outputDirectory>
      <fileMode>0755</fileMode>
      <directoryMode>0755</directoryMode>
    </fileSet>
    <fileSet>
      <directory>${basedir}/../conf</directory>
      <outputDirectory>/conf</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${basedir}/../libexec</directory>
      <outputDirectory>/libexec</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${basedir}/..</directory>
      <outputDirectory>/src</outputDirectory>
      <useDefaultExcludes>true</useDefaultExcludes>
      <!-- pulled from https://github.com/apache/hadoop-common/blob/trunk/hadoop-assemblies/src/main/resources/assemblies/hadoop-dist.xml -->
      <excludes>
        <exclude>.git/**</exclude>
        <exclude>**/.gitignore</exclude>
        <exclude>**/.svn</exclude>
        <exclude>**/*.iws</exclude>
        <exclude>**/*.ipr</exclude>
        <exclude>**/*.iml</exclude>
        <exclude>.idea/**</exclude>
        <exclude>**/.classpath</exclude>
        <exclude>**/.project</exclude>
        <exclude>**/.settings</exclude>
        <exclude>**/target/**</exclude>
        <!-- until the code that does this is fixed -->
        <exclude>**/*.log*</exclude>
        <exclude>**/logs/**</exclude>
        <exclude>**/build/**</exclude>
        <exclude>**/file:/**</exclude>
        <exclude>**/SecurityAuth.audit*</exclude>
      </excludes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/..</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>**/alluxio-*-jar-with-dependencies.jar</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${basedir}/../core/server/src/main/webapp</directory>
      <outputDirectory>/core/server/src/main/webapp</outputDirectory>
    </fileSet>
  </fileSets>
  <!-- If bundled dependencies gets supported, uncomment -->
  <!--
  <dependencySets>
    <dependencySet>
      <outputDirectory>/lib</outputDirectory>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <useProjectArtifact>false</useProjectArtifact>
    </dependencySet>
  </dependencySets>
  -->
</assembly>
