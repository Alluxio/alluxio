'use strict';Object.defineProperty(exports,'__esModule',{value:!0});function _interopDefault(a){return a&&'object'==typeof a&&'default'in a?a['default']:a}var react=require('react'),PropTypes=_interopDefault(require('prop-types')),PopperJS=_interopDefault(require('popper.js')),classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')},createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},inherits=function(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},objectWithoutProperties=function(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a},Manager=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d._setTargetNode=function(a){d._targetNode=a},d._getTargetNode=function(){return d._targetNode},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:'getChildContext',value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:'render',value:function(){var a=this.props,b=a.tag,c=a.children,d=objectWithoutProperties(a,['tag','children']);return!1===b?c:react.createElement(b,d,c)}}]),b}(react.Component);Manager.childContextTypes={popperManager:PropTypes.object.isRequired},Manager.defaultProps={tag:'div'};var Target=function(a,b){var c=a.component,d=void 0===c?'div':c,e=a.innerRef,f=a.children,g=objectWithoutProperties(a,['component','innerRef','children']),h=b.popperManager,i=function(a){h.setTargetNode(a),'function'==typeof e&&e(a)};if('function'==typeof f){return f({targetProps:{ref:i},restProps:g})}var j=_extends({},g);return'string'==typeof d?j.ref=i:j.innerRef=i,react.createElement(d,j,f)};Target.contextTypes={popperManager:PropTypes.object.isRequired},Target.propTypes={component:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),innerRef:PropTypes.func,children:PropTypes.oneOfType([PropTypes.node,PropTypes.func])};var placements=PopperJS.placements,Popper=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d.state={},d._setArrowNode=function(a){d._arrowNode=a},d._getTargetNode=function(){if(d.props.target)return d.props.target;if(!d.context.popperManager||!d.context.popperManager.getTargetNode())throw new Error('Target missing. Popper must be given a target from the Popper Manager, or as a prop.');return d.context.popperManager.getTargetNode()},d._getOffsets=function(a){return Object.keys(a.offsets).map(function(b){return a.offsets[b]})},d._isDataDirty=function(a){return!d.state.data||JSON.stringify(d._getOffsets(d.state.data))!==JSON.stringify(d._getOffsets(a))},d._updateStateModifier={enabled:!0,order:900,fn:function(a){return d._isDataDirty(a)&&d.setState({data:a}),a}},d._getPopperStyle=function(){var a=d.state.data;return d._popper&&a?_extends({position:a.offsets.popper.position},a.styles):{position:'absolute',pointerEvents:'none',opacity:0}},d._getPopperPlacement=function(){return d.state.data?d.state.data.placement:void 0},d._getPopperHide=function(){return!!d.state.data&&d.state.data.hide?'':void 0},d._getArrowStyle=function(){if(!d.state.data||!d.state.data.offsets.arrow)return{};var a=d.state.data.offsets.arrow,b=a.top,c=a.left;return{top:b,left:c}},d._handlePopperRef=function(a){d._popperNode=a,a?d._createPopper():d._destroyPopper(),d.props.innerRef&&d.props.innerRef(a)},d._scheduleUpdate=function(){d._popper&&d._popper.scheduleUpdate()},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:'getChildContext',value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:'componentDidUpdate',value:function(a){(a.placement!==this.props.placement||a.eventsEnabled!==this.props.eventsEnabled||a.target!==this.props.target)&&(this._destroyPopper(),this._createPopper()),a.children!==this.props.children&&this._scheduleUpdate()}},{key:'componentWillUnmount',value:function(){this._destroyPopper()}},{key:'_createPopper',value:function(){var a=this,b=this.props,c=b.placement,d=b.eventsEnabled,e=b.positionFixed,f=_extends({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(f.arrow=_extends({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new PopperJS(this._getTargetNode(),this._popperNode,{placement:c,positionFixed:e,eventsEnabled:d,modifiers:f}),setTimeout(function(){return a._scheduleUpdate()})}},{key:'_destroyPopper',value:function(){this._popper&&this._popper.destroy()}},{key:'render',value:function(){var a=this.props,b=a.component,c=a.innerRef,d=a.placement,e=a.eventsEnabled,f=a.positionFixed,g=a.modifiers,h=a.children,i=objectWithoutProperties(a,['component','innerRef','placement','eventsEnabled','positionFixed','modifiers','children']),j=this._getPopperStyle(),k=this._getPopperPlacement(),l=this._getPopperHide();if('function'==typeof h){var m={ref:this._handlePopperRef,style:j,"data-placement":k,"data-x-out-of-boundaries":l};return h({popperProps:m,restProps:i,scheduleUpdate:this._scheduleUpdate})}var n=_extends({},i,{style:_extends({},i.style,j),"data-placement":k,"data-x-out-of-boundaries":l});return'string'==typeof b?n.ref=this._handlePopperRef:n.innerRef=this._handlePopperRef,react.createElement(b,n,h)}}]),b}(react.Component);Popper.contextTypes={popperManager:PropTypes.object},Popper.childContextTypes={popper:PropTypes.object.isRequired},Popper.defaultProps={component:'div',placement:'bottom',eventsEnabled:!0,positionFixed:!1,modifiers:{}};var Arrow=function(a,b){var c=a.component,d=void 0===c?'span':c,e=a.innerRef,f=a.children,g=objectWithoutProperties(a,['component','innerRef','children']),h=b.popper,i=function(a){h.setArrowNode(a),'function'==typeof e&&e(a)},j=h.getArrowStyle();if('function'==typeof f){return f({arrowProps:{ref:i,style:j},restProps:g})}var k=_extends({},g,{style:_extends({},j,g.style)});return'string'==typeof d?k.ref=i:k.innerRef=i,react.createElement(d,k,f)};Arrow.contextTypes={popper:PropTypes.object.isRequired},Arrow.propTypes={component:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),innerRef:PropTypes.func,children:PropTypes.oneOfType([PropTypes.node,PropTypes.func])},exports.Manager=Manager,exports.Target=Target,exports.Popper=Popper,exports.placements=placements,exports.Arrow=Arrow;
//# sourceMappingURL=react-popper.min.js.map
